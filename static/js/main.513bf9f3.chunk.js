(this["webpackJsonpevent-from-demo"]=this["webpackJsonpevent-from-demo"]||[]).push([[0],{18:function(e,t,o){"use strict";o.r(t);var n=o(0),r=o(6),s=o.n(r),c=o(7),i=o(11);const{styled:l,theme:a,global:h}=Object(i.a)({theme:{colors:{pageBackground:"rgb(240,240,240)",highContrast:"rgb(0,0,0)",lowContrast:"rgb(128,128,128)",red:"hsl(0,100%,50%)",orange:"hsl(30,100%,50%)",yellow:"hsl(51,100%,40%)",green:"hsl(120,100%,30%)",blueGreen:"hsl(180,100%,35%)",blue:"hsl(240,100%,50%)",purple:"hsl(270,100%,60%)"}}}),p=a({colors:{pageBackground:"rgb(32,32,32)",highContrast:"rgb(192,192,192)",lowContrast:"rgb(136,136,136)",red:"hsl(0,100%,50%)",orange:"hsl(30,90%,50%)",yellow:"hsl(60,88%,50%)",green:"hsl(120,85%,42%)",blueGreen:"hsl(180,100%,50%)",blue:"hsl(210,100%,60%)",purple:"hsl(270,85%,60%)"}}),d=h({"button, input":{all:"unset"},"body, div, span, a, p, h1, h2, h3, code, button, form, input":{margin:0,border:0,padding:0,boxSizing:"inherit",font:"inherit",fontWeight:"inherit",textDecoration:"inherit",textAlign:"inherit",color:"inherit",background:"transparent",WebkitTapHighlightColor:"transparent"},html:{height:"100%"},body:{height:"100%",color:"$highContrast",fontFamily:"system-ui, Helvetica Neue, sans-serif",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",fontSize:"16px",boxSizing:"border-box",textSizeAdjust:"none"},code:{fontFamily:"monospace"},"#root":{minHeight:"100%",backgroundColor:"$pageBackground"}});var u=o(5),v=o(12),g=o(1);const b=l((({onClick:e,className:t})=>Object(g.jsx)(u.a,{as:"button",className:t,onClick:e,children:Object(g.jsx)(v.a,{width:"30",height:"30"})})),{color:"$highContrast",width:"30px",height:"30px","&.hover, &.active":{color:"$green"},"&.focusFromKey":{outline:"2px solid $colors$green",outlineOffset:"2px"}}),j=l((({href:e,className:t,children:o})=>Object(g.jsx)(u.a,{as:"a",href:e,className:t,target:"_blank",rel:"noopener noreferrer",children:o})),{color:"$highContrast",borderBottom:"2px dotted $colors$green",textDecoration:"none","&.hover, &.active":{borderBottomStyle:"solid"},"&.focusFromKey":{outline:"2px solid $colors$green",outlineOffset:"2px"},variants:{type:{lowContrast:{color:"$lowContrast",fontSize:"14px",borderBottomWidth:"1px","&.hover, &.active":{color:"$highContrast"}}}}});var m=o(2);const x=[{propName:"onClick",category:"click"},{propName:"onDoubleClick",category:"click"},{propName:"onPointerEnter",category:"pointer"},{propName:"onPointerLeave",category:"pointer"},{propName:"onPointerOver",category:"pointer"},{propName:"onPointerOut",category:"pointer"},{propName:"onPointerDown",category:"pointer"},{propName:"onPointerUp",category:"pointer"},{propName:"onPointerMove",category:"pointer"},{propName:"onGotPointerCapture",category:"pointer"},{propName:"onLostPointerCapture",category:"pointer"},{propName:"onPointerCancel",category:"pointer"},{propName:"onMouseEnter",category:"mouse"},{propName:"onMouseLeave",category:"mouse"},{propName:"onMouseOver",category:"mouse"},{propName:"onMouseOut",category:"mouse"},{propName:"onMouseDown",category:"mouse"},{propName:"onMouseUp",category:"mouse"},{propName:"onMouseMove",category:"mouse"},{propName:"onTouchStart",category:"touch"},{propName:"onTouchMove",category:"touch"},{propName:"onTouchEnd",category:"touch"},{propName:"onTouchCancel",category:"touch"},{propName:"onKeyDown",category:"key"},{propName:"onKeyUp",category:"key"},{propName:"onFocus",category:"focus"},{propName:"onBlur",category:"focus"},{propName:"onDragStart",category:"drag"},{propName:"onDrag",category:"drag"},{propName:"onDragEnd",category:"drag"},{propName:"onSelect",category:"select"},{propName:"onContextMenu",category:"contextMenu"}],O=({eventLog:e,nowTime:t,eventType:o})=>{for(let n=e.length-1;n>=0;n--){if(o&&o!==e[n].type)continue;const r=e[n].lastEventTime||e[n].time;if(void 0!==r)return t-r}},w=({setMoveListeners:e,preventDefaultOnAll:t,contextMenuPreventDefault:o,consoleLogEvents:r})=>{const[s,c]=Object(n.useState)([]);return{eventLog:s,eventListeners:Object(n.useMemo)((()=>x.reduce(((n,s)=>(!e&&/move/.test(s.propName.toLowerCase())||(n[s.propName]=e=>{const n=Object(m.a)(e),i=Date.now();(t||o&&"contextmenu"===e.type)&&e.preventDefault(),r&&console.log(e,"eventFrom: ".concat(n)),c((t=>{const o=[...t],r=(({eventLog:e,type:t,eventFrom:o,nowTime:n,recentTimeCutoff:r})=>{for(let s=e.length-1;s>=Math.max(e.length-2,0);s--){const c=e[s],i=c.lastEventTime||c.time;if(c.type===t&&c.eventFrom===o&&i&&n-i<=r)return s}})({eventLog:o,type:e.type,eventFrom:n,nowTime:i,recentTimeCutoff:1e3});if(["click","mousemove","pointermove","touchmove","keydown","keyup","drag","scroll","wheel"].includes(e.type)&&void 0!==r){const t=o[r],c=t.count?t.count+1:2;o[r]={category:s.category,type:e.type,eventFrom:n,time:t.time,lastEventTime:i,timeSincePreviousEvent:t.timeSincePreviousEvent,timeSincePreviousPointerdown:t.timeSincePreviousPointerdown,xCoordinate:Math.round(e.clientX),yCoordinate:Math.round(e.clientY),target:e.target,count:c}}else o.push({category:s.category,type:e.type,eventFrom:n,time:i,timeSincePreviousEvent:O({eventLog:o,nowTime:i}),timeSincePreviousPointerdown:O({eventLog:o,eventType:"pointerdown",nowTime:i}),xCoordinate:Math.round(e.clientX),yCoordinate:Math.round(e.clientY),target:e.target});return o}))}),n)),{})),[e,t,o,r])}},f=l("div",{height:"300px",padding:"0 5px",border:"1px solid $colors$highContrast",overflow:"scroll"}),y=l("code",{display:"block",variants:{spaceAbove:{true:{marginTop:"20px"}}}}),C=l("span",{variants:{type:{click:{color:"$blue"},pointer:{color:"$green"},mouse:{color:"$purple"},touch:{color:"$orange"},key:{color:"$yellow"},focus:{color:"$blueGreen"},cancel:{color:"$red"},lowContrast:{color:"$lowContrast"}}}}),k=(e,t)=>{if("pointercancel"===t||"touchcancel"===t)return"cancel";switch(e){case"click":case"pointer":case"mouse":case"touch":case"key":case"focus":return e;default:return}},S=({eventLog:e,showTimeSincePreviousEvent:t,showTimeSincePreviousPointerdown:o,showEventCoordinates:r,showPointerEvents:s,showMouseEvents:c,showTouchEvents:i,height:l})=>{const a=Object(n.useRef)(null);Object(n.useEffect)((()=>{a&&a.current&&(a.current.scrollTop=a.current.scrollHeight)}));const h=[];return s||h.push("pointer"),c||h.push("mouse"),i||h.push("touch"),Object(g.jsx)(f,{ref:a,css:{height:l},children:e.map((({category:e,type:n,count:s,eventFrom:c,time:i,timeSincePreviousEvent:l,timeSincePreviousPointerdown:a,xCoordinate:p,yCoordinate:d},u,v)=>h.includes(e)?null:Object(g.jsxs)(y,{spaceAbove:void 0!==l&&l>1e3,children:[Object(g.jsx)(C,{type:"lowContrast",children:u})," ",Object(g.jsxs)(C,{type:k(e,n),children:[n,s?" (".concat(s,")"):""]})," ","eventFrom ",Object(g.jsx)(C,{type:c,children:c}),t&&void 0!==l&&Object(g.jsxs)("span",{children:[", ",l,"ms"]}),o&&void 0!==a&&Object(g.jsxs)("span",{children:[", ",a,"ms_pointerdown"]}),r&&Object(g.jsxs)("span",{children:[", x:",p,", y:",d]})]},"".concat(u).concat(n).concat(s))))})},T=l("div",{paddingBottom:"20px",margin:"20px 0",borderBottom:"1px dotted $colors$lowContrast"}),E=l("button",{display:"block",width:"100%",height:"70px",margin:"10px 0",fontSize:"24px",textAlign:"center",color:"$highContrast",border:"1px solid $colors$highContrast","&:hover, &:active":{color:"$green",borderColor:"$green"},"&:focus":{outline:"2px solid $colors$green",outlineOffset:"2px"}}),P=l("div",{margin:"10px 0"}),$=l("a",{fontSize:"24px","&:hover, &:active":{color:"$green",borderColor:"$green"},"&:focus":{outline:"2px solid $colors$green",outlineOffset:"2px"}}),N=(l("div",{margin:"10px 0",height:"100px",padding:"0 5px",border:"1px solid $colors$highContrast",overflow:"scroll"}),l("div",{pointerEvents:"none"}),l("h3",{fontSize:"14px",margin:"12px 0 2px",color:"$lowContrast"})),M=l("input",{width:"100%",fontSize:"24px",border:"1px solid $colors$highContrast",padding:"2px 4px","&:hover, &:active":{color:"$green",borderColor:"$green"},"&:focus":{outline:"2px solid $colors$green",outlineOffset:"-1px"}}),L=l("input",{display:"block",width:"100%",height:"44px",margin:"10px 0",fontSize:"24px",textAlign:"center",color:"$highContrast",border:"1px solid $colors$highContrast","&:hover, &:active":{color:"$green",borderColor:"$green"},"&:focus":{outline:"2px solid $colors$green",outlineOffset:"2px"}}),D=({setMoveListeners:e,preventDefaultOnAll:t,touchActionNone:o,webkitTapHighlightColorTransparent:n,webkitTouchCalloutNone:r,contextMenuPreventDefault:s,showTimeSincePreviousEvent:c,showEventCoordinates:i,showPointerEvents:l,showMouseEvents:a,showTouchEvents:h,showTimeSincePreviousPointerdown:p,consoleLogEvents:d})=>{const{eventLog:u,eventListeners:v}=w({setMoveListeners:e,preventDefaultOnAll:t,contextMenuPreventDefault:s,consoleLogEvents:d});return Object(g.jsxs)(T,{id:"button-demo",children:[Object(g.jsx)(E,{...v,css:{touchAction:o?"none":void 0,WebkitTapHighlightColor:n?"transparent":void 0,WebkitTouchCallout:r?"none":void 0},children:"Test Button"}),Object(g.jsx)(S,{eventLog:u,showTimeSincePreviousEvent:c,showTimeSincePreviousPointerdown:p,showEventCoordinates:i,showPointerEvents:l,showMouseEvents:a,showTouchEvents:h})]})},F=({setMoveListeners:e,preventDefaultOnAll:t,touchActionNone:o,webkitTapHighlightColorTransparent:n,webkitTouchCalloutNone:r,contextMenuPreventDefault:s,draggableFalse:c,showTimeSincePreviousEvent:i,showEventCoordinates:l,showPointerEvents:a,showMouseEvents:h,showTouchEvents:p,showTimeSincePreviousPointerdown:d,consoleLogEvents:u})=>{const{eventLog:v,eventListeners:b}=w({setMoveListeners:e,preventDefaultOnAll:t,contextMenuPreventDefault:s,consoleLogEvents:u});return Object(g.jsxs)(T,{id:"link-demo",children:[Object(g.jsx)(P,{children:Object(g.jsx)($,{...b,href:"#link-demo",draggable:!c&&void 0,css:{touchAction:o?"none":void 0,WebkitTapHighlightColor:n?"transparent":void 0,WebkitTouchCallout:r?"none":void 0},children:'Test link with href="#link-demo"'})}),Object(g.jsx)(S,{eventLog:v,showTimeSincePreviousEvent:i,showTimeSincePreviousPointerdown:d,showEventCoordinates:l,showPointerEvents:a,showMouseEvents:h,showTouchEvents:p})]})},A=({setMoveListeners:e,preventDefaultOnAll:t,touchActionNone:o,webkitTapHighlightColorTransparent:n,webkitTouchCalloutNone:r,contextMenuPreventDefault:s,showTimeSincePreviousEvent:c,showEventCoordinates:i,showPointerEvents:l,showMouseEvents:a,showTouchEvents:h,showTimeSincePreviousPointerdown:p,consoleLogEvents:d})=>{const u=w({setMoveListeners:e,preventDefaultOnAll:t,contextMenuPreventDefault:s,consoleLogEvents:d}),v=w({setMoveListeners:e,preventDefaultOnAll:t,contextMenuPreventDefault:s,consoleLogEvents:d});return Object(g.jsxs)(T,{id:"form-demo",children:[Object(g.jsxs)("form",{onSubmit:e=>e.preventDefault(),children:[Object(g.jsx)(M,{...u.eventListeners,type:"text",placeholder:"Form demo",css:{touchAction:o?"none":void 0,WebkitTapHighlightColor:n?"transparent":void 0,WebkitTouchCallout:r?"none":void 0}}),Object(g.jsx)(L,{...v.eventListeners,type:"submit",value:"Submit",css:{touchAction:o?"none":void 0,WebkitTapHighlightColor:n?"transparent":void 0,WebkitTouchCallout:r?"none":void 0}})]}),Object(g.jsx)(N,{children:"Text input event log"}),Object(g.jsx)(S,{eventLog:u.eventLog,height:"150px",showTimeSincePreviousEvent:c,showTimeSincePreviousPointerdown:p,showEventCoordinates:i,showPointerEvents:l,showMouseEvents:a,showTouchEvents:h}),Object(g.jsx)(N,{children:"Submit input event log"}),Object(g.jsx)(S,{eventLog:v.eventLog,height:"150px",showTimeSincePreviousEvent:c,showTimeSincePreviousPointerdown:p,showEventCoordinates:i,showPointerEvents:l,showMouseEvents:a,showTouchEvents:h})]})},B=l("div",{maxWidth:"700px",padding:"14px 15px 25px",margin:"0 auto"}),W=l("h1",{fontSize:"26px",display:"flex",justifyContent:"space-between",marginBottom:"2px"}),H=l("p",{padding:"10px 0",borderBottom:"1px dotted $colors$lowContrast"}),z=l("div",{borderBottom:"1px dotted $colors$lowContrast"}),G=l("button",{cursor:"pointer",WebkitTapHighlightColor:"transparent",display:"block",margin:"10px 0",fontSize:"20px",color:"$highContrast","&:hover, &:active":{color:"$green",borderColor:"$green"},"&:focus":{outline:"2px solid $colors$green",outlineOffset:"2px"}}),K=l("div",{paddingBottom:"6px"}),U=l("div",{margin:"14px 0 6px"}),X=l("div",{margin:"4px 0"}),Y=l("label",{cursor:"pointer",WebkitTapHighlightColor:"transparent"}),J=l("input",{appearance:"checkbox",verticalAlign:"middle",marginRight:"4px","&:focus":{outline:"2px solid $colors$green",outlineOffset:"1px"}}),R=({label:e,checked:t,update:o})=>Object(g.jsx)(X,{children:Object(g.jsxs)(Y,{children:[Object(g.jsx)(J,{type:"checkbox",checked:t,onChange:()=>o((e=>!e))}),e]})}),_=()=>{d();const e=Object(c.a)(void 0,{classNameDark:p}),[t,o]=Object(n.useState)(!1),[r,s]=Object(n.useState)(!0),[i,l]=Object(n.useState)(!1),[a,h]=Object(n.useState)(!1),[u,v]=Object(n.useState)(!0),[m,x]=Object(n.useState)(!1),[O,w]=Object(n.useState)(!1),[f,y]=Object(n.useState)(!1),[C,k]=Object(n.useState)(!1),[S,T]=Object(n.useState)(!0),[E,P]=Object(n.useState)(!1),[$,N]=Object(n.useState)(!1),[M,L]=Object(n.useState)(!0),[X,Y]=Object(n.useState)(!0),[J,_]=Object(n.useState)(!0),[I,q]=Object(n.useState)(!1),Q={setMoveListeners:r,preventDefaultOnAll:i,touchActionNone:a,webkitTapHighlightColorTransparent:u,userSelectNone:m,webkitTouchCalloutNone:f,contextMenuPreventDefault:O,draggableFalse:C,showTimeSincePreviousEvent:S,showEventCoordinates:$,showPointerEvents:M,showMouseEvents:X,showTouchEvents:J,showTimeSincePreviousPointerdown:E,consoleLogEvents:I};return Object(n.useMemo)((()=>{document.body.style.userSelect=m?"none":"",document.body.style.webkitUserSelect=m?"none":""}),[m]),Object(g.jsxs)(B,{children:[Object(g.jsxs)(W,{className:void 0,children:[Object(g.jsx)("span",{children:"Event From Demo"}),Object(g.jsx)(b,{onClick:e.toggle})]}),Object(g.jsx)(j,{type:"lowContrast",href:"https://github.com/rafgraph/event-from",children:"https://github.com/rafgraph/event-from"}),Object(g.jsxs)(H,{children:["A collection of buttons, links, etc with event listeners and logs to demonstrate ",Object(g.jsx)("code",{children:"eventFrom"}),"."]}),Object(g.jsxs)(z,{children:[Object(g.jsxs)(G,{onClick:()=>o(!t),children:["Demo options - ","".concat(t?"hide":"show")]}),t&&Object(g.jsxs)(K,{children:[Object(g.jsx)(R,{label:Object(g.jsxs)(g.Fragment,{children:["Set ",Object(g.jsx)("code",{children:"move"})," event listeners in demo"]}),checked:r,update:s}),Object(g.jsx)(R,{label:Object(g.jsxs)(g.Fragment,{children:["Call ",Object(g.jsx)("code",{children:"preventDefault()"})," on all events in demo"]}),checked:i,update:l}),Object(g.jsx)(R,{label:Object(g.jsx)("code",{children:"touch-action: none"}),checked:a,update:h}),Object(g.jsx)(R,{label:Object(g.jsx)("code",{children:"-webkit-tap-highlight-color: transparent"}),checked:u,update:v}),Object(g.jsx)(U,{children:"Options to enable long press on touch devices:"}),Object(g.jsx)(R,{label:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("code",{children:"user-select: none"}),", set on the"," ",Object(g.jsx)("code",{children:"<body>"}),", iOS on long press attempts to select nearby text even if the target element has set this to"," ",Object(g.jsx)("code",{children:"none"}),", so need to set it on the body."]}),checked:m,update:x}),Object(g.jsx)(R,{label:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("code",{children:"contextmenu"})," event ",Object(g.jsx)("code",{children:"preventDefault()"}),", to prevent the context menu from appearing on long press of links."]}),checked:O,update:w}),Object(g.jsx)(R,{label:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("code",{children:"-webkit-touch-callout: none"}),', to prevent the "context menu" from appearing on iOS long press of links because iOS doesn\'t support ',Object(g.jsx)("code",{children:"conextmenu"})," events."]}),checked:f,update:y}),Object(g.jsx)(R,{label:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("code",{children:'draggable="false"'}),", to prevent from dragging links on long press on iPadOS."]}),checked:C,update:k}),Object(g.jsx)(U,{children:"Event log options:"}),Object(g.jsx)(R,{label:"show time (ms) since previous event",checked:S,update:T}),Object(g.jsx)(R,{label:Object(g.jsxs)(g.Fragment,{children:["show time (ms) since previous ",Object(g.jsx)("code",{children:"pointerdown"})," event"]}),checked:E,update:P}),Object(g.jsx)(R,{label:Object(g.jsxs)(g.Fragment,{children:["show event coordinates: ",Object(g.jsx)("code",{children:"clientX"}),","," ",Object(g.jsx)("code",{children:"clientY"})]}),checked:$,update:N}),Object(g.jsx)(R,{label:Object(g.jsxs)(g.Fragment,{children:["show ",Object(g.jsx)("code",{children:"pointer"})," events"]}),checked:M,update:L}),Object(g.jsx)(R,{label:Object(g.jsxs)(g.Fragment,{children:["show ",Object(g.jsx)("code",{children:"mouse"})," events"]}),checked:X,update:Y}),Object(g.jsx)(R,{label:Object(g.jsxs)(g.Fragment,{children:["show ",Object(g.jsx)("code",{children:"touch"})," events"]}),checked:J,update:_}),Object(g.jsx)(R,{label:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("code",{children:"console.log"})," all events"]}),checked:I,update:q})]})]}),Object(g.jsx)(D,{...Q}),Object(g.jsx)(F,{...Q}),Object(g.jsx)(A,{...Q})]})};s.a.render(Object(g.jsx)(n.StrictMode,{children:Object(g.jsx)(_,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.513bf9f3.chunk.js.map