(this["webpackJsonpevent-from-demo"]=this["webpackJsonpevent-from-demo"]||[]).push([[0],{32:function(e,t,o){"use strict";o.r(t);var n=o(0),r=o(9),s=o.n(r),c=o(2),i=o(10),a=o(14),{styled:l,css:h}=Object(a.a)({prefix:"",tokens:{colors:{$pageBackground:"rgb(240,240,240)",$highContrast:"rgb(0,0,0)",$lowContrast:"rgb(128,128,128)",$red:"hsl(0,100%,50%)",$orange:"hsl(30,100%,50%)",$yellow:"hsl(51,100%,40%)",$green:"hsl(120,100%,30%)",$blueGreen:"hsl(180,100%,35%)",$blue:"hsl(240,100%,50%)",$purple:"hsl(270,100%,60%)"}},breakpoints:{},utils:{}}),u=h.theme({colors:{$pageBackground:"rgb(32,32,32)",$highContrast:"rgb(192,192,192)",$lowContrast:"rgb(136,136,136)",$red:"hsl(0,100%,50%)",$orange:"hsl(30,90%,50%)",$yellow:"hsl(60,88%,50%)",$green:"hsl(120,85%,42%)",$blueGreen:"hsl(180,100%,50%)",$blue:"hsl(210,100%,60%)",$purple:"hsl(270,85%,60%)"}}),p=h.global({"button, input":{all:"unset"},"body, div, span, a, p, h1, h2, h3, code, button, form, input":{margin:0,border:0,padding:0,boxSizing:"inherit",font:"inherit",fontWeight:"inherit",textDecoration:"inherit",textAlign:"inherit",color:"inherit",background:"transparent"},html:{height:"100%"},body:{height:"100%",color:"$highContrast",fontFamily:"system-ui, Helvetica Neue, sans-serif",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",fontSize:"16px",boxSizing:"border-box",textSizeAdjust:"none"},"#root":{minHeight:"100%",backgroundColor:"$pageBackground"}}),d=o(15),v=o(6),b=o.n(v),g=o(12),j=o(1),m=l((e=>{var{onClick:t,className:o}=e,n=Object(d.a)(e,["onClick","className"]);return Object(j.jsx)(b.a,Object(c.a)(Object(c.a)({},n),{},{className:o.toString(),onClick:t,as:"button",hover:{className:"hover"},active:{className:"active"},focusFromTab:{className:"focusFromTab",style:{outline:null,outlineOffset:null}},touchActiveTapOnly:!0,children:Object(j.jsx)(g.a,{width:"30",height:"30"})}))}),{color:"$highContrast",width:"30px",height:"30px","&.hover, &.active":{color:"$green"},"&.focusFromTab":{outlineColor:"$green",outline:"2px solid",outlineOffset:"2px"}}),x=l((e=>Object(j.jsx)(b.a,Object(c.a)(Object(c.a)({},e),{},{className:e.className.toString(),as:"a",hover:{className:"hover"},active:"hover",focusFromTab:{className:"focusFromTab",style:{outline:null,outlineOffset:null}},touchActiveTapOnly:!0,target:"_blank",rel:"noopener noreferrer"}))),{color:"$highContrast",borderBottom:"2px dotted $green",textDecoration:"none","&.hover":{borderBottomStyle:"solid"},"&.focusFromTab":{outlineColor:"$green",outline:"2px solid",outlineOffset:"2px"},variants:{type:{lowContrast:{color:"$lowContrast",fontSize:"14px",borderBottomWidth:"1px","&.hover":{color:"$highContrast"}}}}}),O=(l((e=>Object(j.jsx)(b.a,Object(c.a)(Object(c.a)({},e),{},{className:e.className.toString(),as:"div",hover:{className:"hover"},active:"hover",focusFromTab:{className:"focusFromTab",style:{outline:null,outlineOffset:null}},touchActiveTapOnly:!0}))),{color:"$highContrast",border:"2px solid $highContrast",width:"100%",height:"42px",lineHeight:"36px",fontSize:"18px",textAlign:"center",margin:"25px 0",userSelect:"none","&.hover":{color:"$green",borderColor:"$green"},"&.focusFromTab":{outlineColor:"$green",outline:"2px solid",outlineOffset:"2px"}}),o(13)),w=[{propName:"onClick",category:"click"},{propName:"onDoubleClick",category:"click"},{propName:"onPointerEnter",category:"pointer"},{propName:"onPointerLeave",category:"pointer"},{propName:"onPointerOver",category:"pointer"},{propName:"onPointerOut",category:"pointer"},{propName:"onPointerDown",category:"pointer"},{propName:"onPointerUp",category:"pointer"},{propName:"onPointerMove",category:"pointer"},{propName:"onGotPointerCapture",category:"pointer"},{propName:"onLostPointerCapture",category:"pointer"},{propName:"onPointerCancel",category:"pointer"},{propName:"onMouseEnter",category:"mouse"},{propName:"onMouseLeave",category:"mouse"},{propName:"onMouseOver",category:"mouse"},{propName:"onMouseOut",category:"mouse"},{propName:"onMouseDown",category:"mouse"},{propName:"onMouseUp",category:"mouse"},{propName:"onMouseMove",category:"mouse"},{propName:"onTouchStart",category:"touch"},{propName:"onTouchMove",category:"touch"},{propName:"onTouchEnd",category:"touch"},{propName:"onTouchCancel",category:"touch"},{propName:"onKeyDown",category:"key"},{propName:"onKeyUp",category:"key"},{propName:"onFocus",category:"focus"},{propName:"onBlur",category:"focus"},{propName:"onDragStart",category:"drag"},{propName:"onDrag",category:"drag"},{propName:"onDragEnd",category:"drag"},{propName:"onSelect",category:"select"},{propName:"onContextMenu",category:"contextMenu"}],f=({eventLog:e,nowTime:t,eventType:o})=>{for(var n=e.length-1;n>=0;n--)if(!o||o===e[n].type){var r=e[n].lastEventTime||e[n].time;if(void 0!==r)return t-r}},y=({setMoveListeners:e,preventDefaultOnAll:t,contextMenuPreventDefault:o,consoleLogEvents:r})=>{var[s,c]=Object(n.useState)([]);return{eventLog:s,eventListeners:Object(n.useMemo)((()=>w.reduce(((n,s)=>(!e&&/move/.test(s.propName.toLowerCase())||(n[s.propName]=e=>{var n=Object(O.a)(e),i=Date.now();(t||o&&"contextmenu"===e.type)&&e.preventDefault(),r&&console.log(e,"eventFrom: ".concat(n)),c((t=>{var o=[...t],r=(({eventLog:e,type:t,eventFrom:o,nowTime:n,recentTimeCutoff:r})=>{for(var s=e.length-1;s>=Math.max(e.length-2,0);s--){var c=e[s],i=c.lastEventTime||c.time;if(c.type===t&&c.eventFrom===o&&i&&n-i<=r)return s}})({eventLog:o,type:e.type,eventFrom:n,nowTime:i,recentTimeCutoff:1e3});if(["click","mousemove","pointermove","touchmove","keydown","keyup","drag","scroll","wheel"].includes(e.type)&&void 0!==r){var c=o[r],a=c.count?c.count+1:2;o[r]={category:s.category,type:e.type,eventFrom:n,time:c.time,lastEventTime:i,timeSincePreviousEvent:c.timeSincePreviousEvent,timeSincePreviousPointerdown:c.timeSincePreviousPointerdown,xCoordinate:Math.round(e.clientX),yCoordinate:Math.round(e.clientY),target:e.target,count:a}}else o.push({category:s.category,type:e.type,eventFrom:n,time:i,timeSincePreviousEvent:f({eventLog:o,nowTime:i}),timeSincePreviousPointerdown:f({eventLog:o,eventType:"pointerdown",nowTime:i}),xCoordinate:Math.round(e.clientX),yCoordinate:Math.round(e.clientY),target:e.target});return o}))}),n)),{})),[e,t,o,r])}},C=l("div",{height:"300px",padding:"0 5px",border:"1px solid $highContrast",overflow:"scroll"}),k=l("code",{display:"block",variants:{spaceAbove:{true:{marginTop:"20px"}}}}),T=l("span",{variants:{type:{click:{color:"$blue"},pointer:{color:"$green"},mouse:{color:"$purple"},touch:{color:"$orange"},key:{color:"$yellow"},focus:{color:"$blueGreen"},cancel:{color:"$red"},lowContrast:{color:"$lowContrast"}}}}),S=(e,t)=>{if("pointercancel"===t||"touchcancel"===t)return"cancel";switch(e){case"click":case"pointer":case"mouse":case"touch":case"key":case"focus":return e;default:return}},$=({eventLog:e,showTimeSincePreviousEvent:t,showTimeSincePreviousPointerdown:o,showEventCoordinates:r,showPointerEvents:s,showMouseEvents:c,showTouchEvents:i,height:a})=>{var l=Object(n.useRef)(null);Object(n.useEffect)((()=>{l&&l.current&&(l.current.scrollTop=l.current.scrollHeight)}));var h=[];return s||h.push("pointer"),c||h.push("mouse"),i||h.push("touch"),Object(j.jsx)(C,{ref:l,css:{height:a},children:e.map((({category:e,type:n,count:s,eventFrom:c,time:i,timeSincePreviousEvent:a,timeSincePreviousPointerdown:l,xCoordinate:u,yCoordinate:p},d,v)=>h.includes(e)?null:Object(j.jsxs)(k,{spaceAbove:void 0!==a&&a>1e3,children:[Object(j.jsx)(T,{type:"lowContrast",children:d})," ",Object(j.jsxs)(T,{type:S(e,n),children:[n,s?" (".concat(s,")"):""]})," ","eventFrom ",Object(j.jsx)(T,{type:c,children:c}),t&&void 0!==a&&Object(j.jsxs)("span",{children:[", ",a,"ms"]}),o&&void 0!==l&&Object(j.jsxs)("span",{children:[", ",l,"ms_pointerdown"]}),r&&Object(j.jsxs)("span",{children:[", x:",u,", y:",p]})]},"".concat(d).concat(n).concat(s))))})},E=l("div",{paddingBottom:"20px",margin:"20px 0",borderBottom:"1px dotted $lowContrast"}),P=l("button",{display:"block",width:"100%",height:"70px",margin:"10px 0",fontSize:"24px",textAlign:"center",color:"$highContrast",border:"1px solid $highContrast",":hover, &:active":{color:"$green",borderColor:"$green"},":focus":{outlineColor:"$green",outline:"2px solid",outlineOffset:"2px"}}),N=l("div",{margin:"10px 0"}),M=l("a",{fontSize:"24px",":hover, &:active":{color:"$green",borderColor:"$green"},":focus":{outlineColor:"$green",outline:"2px solid",outlineOffset:"2px"}}),L=(l("div",{margin:"10px 0",height:"100px",padding:"0 5px",border:"1px solid $highContrast",overflow:"scroll"}),l("div",{pointerEvents:"none"}),l("h3",{fontSize:"14px",margin:"12px 0 2px",color:"$lowContrast"})),F=l("input",{width:"100%",fontSize:"24px",border:"1px solid $highContrast",padding:"2px 4px",":hover, &:active":{color:"$green",borderColor:"$green"},":focus":{outlineColor:"$green",outline:"2px solid",outlineOffset:"-1px"}}),D=l("input",{display:"block",width:"100%",height:"44px",margin:"10px 0",fontSize:"24px",textAlign:"center",color:"$highContrast",border:"1px solid $highContrast",":hover, &:active":{color:"$green",borderColor:"$green"},":focus":{outlineColor:"$green",outline:"2px solid",outlineOffset:"2px"}}),A=({setMoveListeners:e,preventDefaultOnAll:t,touchActionNone:o,webkitTapHighlightColorTransparent:n,webkitTouchCalloutNone:r,contextMenuPreventDefault:s,showTimeSincePreviousEvent:i,showEventCoordinates:a,showPointerEvents:l,showMouseEvents:h,showTouchEvents:u,showTimeSincePreviousPointerdown:p,consoleLogEvents:d})=>{var{eventLog:v,eventListeners:b}=y({setMoveListeners:e,preventDefaultOnAll:t,contextMenuPreventDefault:s,consoleLogEvents:d});return Object(j.jsxs)(E,{id:"button-demo",children:[Object(j.jsx)(P,Object(c.a)(Object(c.a)({},b),{},{css:{touchAction:o?"none":void 0,WebkitTapHighlightColor:n?"transparent":void 0,WebkitTouchCallout:r?"none":void 0},children:"Test Button"})),Object(j.jsx)($,{eventLog:v,showTimeSincePreviousEvent:i,showTimeSincePreviousPointerdown:p,showEventCoordinates:a,showPointerEvents:l,showMouseEvents:h,showTouchEvents:u})]})},B=({setMoveListeners:e,preventDefaultOnAll:t,touchActionNone:o,webkitTapHighlightColorTransparent:n,webkitTouchCalloutNone:r,contextMenuPreventDefault:s,draggableFalse:i,showTimeSincePreviousEvent:a,showEventCoordinates:l,showPointerEvents:h,showMouseEvents:u,showTouchEvents:p,showTimeSincePreviousPointerdown:d,consoleLogEvents:v})=>{var{eventLog:b,eventListeners:g}=y({setMoveListeners:e,preventDefaultOnAll:t,contextMenuPreventDefault:s,consoleLogEvents:v});return Object(j.jsxs)(E,{id:"link-demo",children:[Object(j.jsx)(N,{children:Object(j.jsx)(M,Object(c.a)(Object(c.a)({},g),{},{href:"#link-demo",draggable:!i&&void 0,css:{touchAction:o?"none":void 0,WebkitTapHighlightColor:n?"transparent":void 0,WebkitTouchCallout:r?"none":void 0},children:'Test link with href="#link-demo"'}))}),Object(j.jsx)($,{eventLog:b,showTimeSincePreviousEvent:a,showTimeSincePreviousPointerdown:d,showEventCoordinates:l,showPointerEvents:h,showMouseEvents:u,showTouchEvents:p})]})},z=({setMoveListeners:e,preventDefaultOnAll:t,touchActionNone:o,webkitTapHighlightColorTransparent:n,webkitTouchCalloutNone:r,contextMenuPreventDefault:s,showTimeSincePreviousEvent:i,showEventCoordinates:a,showPointerEvents:l,showMouseEvents:h,showTouchEvents:u,showTimeSincePreviousPointerdown:p,consoleLogEvents:d})=>{var v=y({setMoveListeners:e,preventDefaultOnAll:t,contextMenuPreventDefault:s,consoleLogEvents:d}),b=y({setMoveListeners:e,preventDefaultOnAll:t,contextMenuPreventDefault:s,consoleLogEvents:d});return Object(j.jsxs)(E,{id:"form-demo",children:[Object(j.jsxs)("form",{onSubmit:e=>e.preventDefault(),children:[Object(j.jsx)(F,Object(c.a)(Object(c.a)({},v.eventListeners),{},{type:"text",placeholder:"Form demo",css:{touchAction:o?"none":void 0,WebkitTapHighlightColor:n?"transparent":void 0,WebkitTouchCallout:r?"none":void 0}})),Object(j.jsx)(D,Object(c.a)(Object(c.a)({},b.eventListeners),{},{type:"submit",value:"Submit",css:{touchAction:o?"none":void 0,WebkitTapHighlightColor:n?"transparent":void 0,WebkitTouchCallout:r?"none":void 0}}))]}),Object(j.jsx)(L,{children:"Text input event log"}),Object(j.jsx)($,{eventLog:v.eventLog,height:"150px",showTimeSincePreviousEvent:i,showTimeSincePreviousPointerdown:p,showEventCoordinates:a,showPointerEvents:l,showMouseEvents:h,showTouchEvents:u}),Object(j.jsx)(L,{children:"Submit input event log"}),Object(j.jsx)($,{eventLog:b.eventLog,height:"150px",showTimeSincePreviousEvent:i,showTimeSincePreviousPointerdown:p,showEventCoordinates:a,showPointerEvents:l,showMouseEvents:h,showTouchEvents:u})]})},H=l("div",{maxWidth:"700px",padding:"14px 15px 25px",margin:"0 auto"}),W=l("h1",{fontSize:"26px",display:"flex",justifyContent:"space-between",marginBottom:"2px"}),G=l("p",{padding:"10px 0",borderBottom:"1px dotted $lowContrast"}),U=l("div",{borderBottom:"1px dotted $lowContrast"}),X=l("button",{cursor:"pointer",WebkitTapHighlightColor:"transparent",display:"block",margin:"10px 0",fontSize:"20px",color:"$highContrast",":hover, &:active":{color:"$green",borderColor:"$green"},":focus":{outlineColor:"$green",outline:"2px solid",outlineOffset:"2px"}}),Y=l("div",{paddingBottom:"6px"}),J=l("div",{margin:"14px 0 6px"}),K=l("div",{margin:"4px 0"}),R=l("label",{cursor:"pointer",WebkitTapHighlightColor:"transparent"}),_=l("input",{appearance:"checkbox",verticalAlign:"middle",marginRight:"4px",":focus":{outlineColor:"$green",outline:"2px solid",outlineOffset:"1px"}}),I=({label:e,checked:t,update:o})=>Object(j.jsx)(K,{children:Object(j.jsxs)(R,{children:[Object(j.jsx)(_,{type:"checkbox",checked:t,onChange:()=>o((e=>!e))}),e]})}),q=()=>{p();var e=Object(i.a)(void 0,{classNameDark:u}),[t,o]=Object(n.useState)(!1),[r,s]=Object(n.useState)(!0),[a,l]=Object(n.useState)(!1),[h,d]=Object(n.useState)(!1),[v,b]=Object(n.useState)(!0),[g,O]=Object(n.useState)(!1),[w,f]=Object(n.useState)(!1),[y,C]=Object(n.useState)(!1),[k,T]=Object(n.useState)(!1),[S,$]=Object(n.useState)(!0),[E,P]=Object(n.useState)(!1),[N,M]=Object(n.useState)(!1),[L,F]=Object(n.useState)(!0),[D,K]=Object(n.useState)(!0),[R,_]=Object(n.useState)(!0),[q,Q]=Object(n.useState)(!1),V={setMoveListeners:r,preventDefaultOnAll:a,touchActionNone:h,webkitTapHighlightColorTransparent:v,userSelectNone:g,webkitTouchCalloutNone:y,contextMenuPreventDefault:w,draggableFalse:k,showTimeSincePreviousEvent:S,showEventCoordinates:N,showPointerEvents:L,showMouseEvents:D,showTouchEvents:R,showTimeSincePreviousPointerdown:E,consoleLogEvents:q};return Object(n.useMemo)((()=>{document.body.style.userSelect=g?"none":"",document.body.style.webkitUserSelect=g?"none":""}),[g]),Object(j.jsxs)(H,{children:[Object(j.jsxs)(W,{children:[Object(j.jsx)("span",{children:"Event From Demo"}),Object(j.jsx)(m,{onClick:e.toggle})]}),Object(j.jsx)(x,{type:"lowContrast",href:"https://github.com/rafgraph/event-from",children:"https://github.com/rafgraph/event-from"}),Object(j.jsxs)(G,{children:["A collection of buttons, links, etc with event listeners and logs to demonstrate ",Object(j.jsx)("code",{children:"eventFrom"}),"."]}),Object(j.jsxs)(U,{children:[Object(j.jsxs)(X,{onClick:()=>o(!t),children:["Demo options - ","".concat(t?"hide":"show")]}),t&&Object(j.jsxs)(Y,{children:[Object(j.jsx)(I,{label:Object(j.jsxs)(j.Fragment,{children:["Set ",Object(j.jsx)("code",{children:"move"})," event listeners in demo"]}),checked:r,update:s}),Object(j.jsx)(I,{label:Object(j.jsxs)(j.Fragment,{children:["Call ",Object(j.jsx)("code",{children:"preventDefault()"})," on all events in demo"]}),checked:a,update:l}),Object(j.jsx)(I,{label:Object(j.jsx)("code",{children:"touch-action: none"}),checked:h,update:d}),Object(j.jsx)(I,{label:Object(j.jsx)("code",{children:"-webkit-tap-highlight-color: transparent"}),checked:v,update:b}),Object(j.jsx)(J,{children:"Options to enable long press on touch devices:"}),Object(j.jsx)(I,{label:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("code",{children:"user-select: none"}),", set on the"," ",Object(j.jsx)("code",{children:"<body>"}),", iOS on long press attempts to select nearby text even if the target element has set this to"," ",Object(j.jsx)("code",{children:"none"}),", so need to set it on the body."]}),checked:g,update:O}),Object(j.jsx)(I,{label:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("code",{children:"contextmenu"})," event ",Object(j.jsx)("code",{children:"preventDefault()"}),", to prevent the context menu from appearing on long press of links."]}),checked:w,update:f}),Object(j.jsx)(I,{label:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("code",{children:"-webkit-touch-callout: none"}),', to prevent the "context menu" from appearing on iOS long press of links because iOS doesn\'t support ',Object(j.jsx)("code",{children:"conextmenu"})," events."]}),checked:y,update:C}),Object(j.jsx)(I,{label:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("code",{children:'draggable="false"'}),", to prevent from dragging links on long press on iPadOS."]}),checked:k,update:T}),Object(j.jsx)(J,{children:"Event log options:"}),Object(j.jsx)(I,{label:"show time (ms) since previous event",checked:S,update:$}),Object(j.jsx)(I,{label:Object(j.jsxs)(j.Fragment,{children:["show time (ms) since previous ",Object(j.jsx)("code",{children:"pointerdown"})," event"]}),checked:E,update:P}),Object(j.jsx)(I,{label:Object(j.jsxs)(j.Fragment,{children:["show event coordinates: ",Object(j.jsx)("code",{children:"clientX"}),","," ",Object(j.jsx)("code",{children:"clientY"})]}),checked:N,update:M}),Object(j.jsx)(I,{label:Object(j.jsxs)(j.Fragment,{children:["show ",Object(j.jsx)("code",{children:"pointer"})," events"]}),checked:L,update:F}),Object(j.jsx)(I,{label:Object(j.jsxs)(j.Fragment,{children:["show ",Object(j.jsx)("code",{children:"mouse"})," events"]}),checked:D,update:K}),Object(j.jsx)(I,{label:Object(j.jsxs)(j.Fragment,{children:["show ",Object(j.jsx)("code",{children:"touch"})," events"]}),checked:R,update:_}),Object(j.jsx)(I,{label:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("code",{children:"console.log"})," all events"]}),checked:q,update:Q})]})]}),Object(j.jsx)(A,Object(c.a)({},V)),Object(j.jsx)(B,Object(c.a)({},V)),Object(j.jsx)(z,Object(c.a)({},V))]})};s.a.render(Object(j.jsx)(n.StrictMode,{children:Object(j.jsx)(q,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.c7996da5.chunk.js.map