(this["webpackJsonpevent-from-demo"]=this["webpackJsonpevent-from-demo"]||[]).push([[0],{18:function(e,t,o){"use strict";o.r(t);var n=o(0),r=o(6),c=o.n(r),s=o(7),i=o(11),a=o(12);const{styled:l,theme:h,global:p}=Object(a.a)({theme:{colors:{pageBackground:"rgb(240,240,240)",highContrast:"rgb(0,0,0)",lowContrast:"rgb(128,128,128)",red:"hsl(0,100%,50%)",orange:"hsl(30,100%,50%)",yellow:"hsl(51,100%,40%)",green:"hsl(120,100%,30%)",blueGreen:"hsl(180,100%,35%)",blue:"hsl(240,100%,50%)",purple:"hsl(270,100%,60%)"}}}),d=h({colors:{pageBackground:"rgb(32,32,32)",highContrast:"rgb(192,192,192)",lowContrast:"rgb(136,136,136)",red:"hsl(0,100%,50%)",orange:"hsl(30,90%,50%)",yellow:"hsl(60,88%,50%)",green:"hsl(120,85%,42%)",blueGreen:"hsl(180,100%,50%)",blue:"hsl(210,100%,60%)",purple:"hsl(270,85%,60%)"}}),u=p({"button, input":{all:"unset"},"body, div, span, a, p, h1, h2, h3, code, button, form, input":{margin:0,border:0,padding:0,boxSizing:"inherit",font:"inherit",fontWeight:"inherit",textDecoration:"inherit",textAlign:"inherit",color:"inherit",background:"transparent"},html:{height:"100%"},body:{height:"100%",color:"$highContrast",fontFamily:"system-ui, Helvetica Neue, sans-serif",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",fontSize:"16px",boxSizing:"border-box",textSizeAdjust:"none"},code:{fontFamily:"monospace"},"#root":{minHeight:"100%",backgroundColor:"$pageBackground"}});var b=o(4),g=o(1);const j=l((({onClick:e,className:t,children:o})=>Object(g.jsx)(b.a,{as:"button",className:t,onClick:e,children:o})),{color:"$highContrast",WebkitTapHighlightColor:"transparent","&.hover, &.active":{color:"$green"},"&.focusFromKey":{outline:"2px solid $colors$green",outlineOffset:"2px"}}),m=l((({checked:e,onChange:t,disabled:o,className:n})=>Object(g.jsx)(b.a,{as:"input",type:"checkbox",checked:e,onChange:t,disabled:o,className:n})),{WebkitTapHighlightColor:"transparent",appearance:"checkbox","&.focusFromKey":{outline:"2px solid $colors$green",outlineOffset:"1px"}}),x=l((({href:e,className:t,children:o})=>Object(g.jsx)(b.a,{as:"a",href:e,className:t,target:"_blank",rel:"noopener noreferrer",children:o})),{color:"$highContrast",borderBottom:"2px dotted $colors$green",textDecoration:"none",WebkitTapHighlightColor:"transparent","&.hover, &.active":{borderBottomStyle:"solid"},"&.focusFromKey":{outline:"2px solid $colors$green",outlineOffset:"2px"},variants:{type:{lowContrast:{color:"$lowContrast",fontSize:"14px",borderBottomWidth:"1px","&.hover, &.active":{color:"$highContrast"}}}}});var v=o(2);const O=[{propName:"onClick",category:"click"},{propName:"onDoubleClick",category:"click"},{propName:"onPointerEnter",category:"pointer"},{propName:"onPointerLeave",category:"pointer"},{propName:"onPointerOver",category:"pointer"},{propName:"onPointerOut",category:"pointer"},{propName:"onPointerDown",category:"pointer"},{propName:"onPointerUp",category:"pointer"},{propName:"onPointerMove",category:"pointer"},{propName:"onGotPointerCapture",category:"pointer"},{propName:"onLostPointerCapture",category:"pointer"},{propName:"onPointerCancel",category:"pointer"},{propName:"onMouseEnter",category:"mouse"},{propName:"onMouseLeave",category:"mouse"},{propName:"onMouseOver",category:"mouse"},{propName:"onMouseOut",category:"mouse"},{propName:"onMouseDown",category:"mouse"},{propName:"onMouseUp",category:"mouse"},{propName:"onMouseMove",category:"mouse"},{propName:"onTouchStart",category:"touch"},{propName:"onTouchMove",category:"touch"},{propName:"onTouchEnd",category:"touch"},{propName:"onTouchCancel",category:"touch"},{propName:"onKeyDown",category:"key"},{propName:"onKeyUp",category:"key"},{propName:"onFocus",category:"focus"},{propName:"onBlur",category:"focus"},{propName:"onDragStart",category:"drag"},{propName:"onDrag",category:"drag"},{propName:"onDragEnd",category:"drag"},{propName:"onSelect",category:"select"},{propName:"onContextMenu",category:"contextMenu"}],y=({eventLog:e,nowTime:t,eventType:o})=>{for(let n=e.length-1;n>=0;n--){if(o&&o!==e[n].type)continue;const r=e[n].lastEventTime||e[n].time;if(void 0!==r)return t-r}},f=()=>{const{setMoveListeners:e,preventDefaultOnAll:t,contextMenuPreventDefault:o,consoleLogEvents:r}=Object(n.useContext)(q),[c,s]=Object(n.useState)([]);return{eventLog:c,eventListeners:Object(n.useMemo)((()=>O.reduce(((n,c)=>(!e&&/move/.test(c.propName.toLowerCase())||(n[c.propName]=e=>{const n=Object(v.a)(e),i=Date.now();(t||o&&"contextmenu"===e.type)&&e.preventDefault(),r&&console.log(e,"eventFrom: ".concat(n)),s((t=>{const o=[...t],r=(({eventLog:e,type:t,eventFrom:o,nowTime:n,recentTimeCutoff:r})=>{for(let c=e.length-1;c>=Math.max(e.length-2,0);c--){const s=e[c],i=s.lastEventTime||s.time;if(s.type===t&&s.eventFrom===o&&i&&n-i<=r)return c}})({eventLog:o,type:e.type,eventFrom:n,nowTime:i,recentTimeCutoff:1e3});if(["click","mousemove","pointermove","touchmove","keydown","keyup","drag","scroll","wheel"].includes(e.type)&&void 0!==r){const t=o[r],s=t.count?t.count+1:2;o[r]={category:c.category,type:e.type,eventFrom:n,time:t.time,lastEventTime:i,timeSincePreviousEvent:t.timeSincePreviousEvent,timeSincePreviousPointerdown:t.timeSincePreviousPointerdown,xCoordinate:Math.round(e.clientX),yCoordinate:Math.round(e.clientY),target:e.target,count:s}}else o.push({category:c.category,type:e.type,eventFrom:n,time:i,timeSincePreviousEvent:y({eventLog:o,nowTime:i}),timeSincePreviousPointerdown:y({eventLog:o,eventType:"pointerdown",nowTime:i}),xCoordinate:Math.round(e.clientX),yCoordinate:Math.round(e.clientY),target:e.target});return o}))}),n)),{})),[e,t,o,r])}},w=l("div",{height:"300px",padding:"0 5px",border:"1px solid $colors$highContrast",overflow:"scroll"}),C=l("code",{display:"block",variants:{spaceAbove:{true:{marginTop:"20px"}}}}),k=l("span",{variants:{type:{click:{color:"$blue"},pointer:{color:"$green"},mouse:{color:"$purple"},touch:{color:"$orange"},key:{color:"$yellow"},focus:{color:"$blueGreen"},cancel:{color:"$red"},lowContrast:{color:"$lowContrast"}}}}),S=(e,t)=>{if("pointercancel"===t||"touchcancel"===t)return"cancel";switch(e){case"click":case"pointer":case"mouse":case"touch":case"key":case"focus":return e;default:return}},$=({eventLog:e,height:t})=>{const{showTimeSincePreviousEvent:o,showTimeSincePreviousPointerdown:r,showEventCoordinates:c,showPointerEvents:s,showMouseEvents:i,showTouchEvents:a}=Object(n.useContext)(q),l=Object(n.useRef)(null);Object(n.useEffect)((()=>{l&&l.current&&(l.current.scrollTop=l.current.scrollHeight)}));const h=[];return s||h.push("pointer"),i||h.push("mouse"),a||h.push("touch"),Object(g.jsx)(w,{ref:l,css:{height:t},children:e.map((({category:e,type:t,count:n,eventFrom:s,time:i,timeSincePreviousEvent:a,timeSincePreviousPointerdown:l,xCoordinate:p,yCoordinate:d},u)=>h.includes(e)?null:Object(g.jsxs)(C,{spaceAbove:void 0!==a&&a>1e3,children:[Object(g.jsx)(k,{type:"lowContrast",children:u})," ",Object(g.jsxs)(k,{type:S(e,t),children:[t,n?" (".concat(n,")"):""]})," ","eventFrom ",Object(g.jsx)(k,{type:s,children:s}),o&&void 0!==a&&Object(g.jsxs)("span",{children:[", ",a,"ms"]}),r&&void 0!==l&&Object(g.jsxs)("span",{children:[", ",l,"ms_pointerdown"]}),c&&Object(g.jsxs)("span",{children:[", x:",p,", y:",d]})]},"".concat(u).concat(t).concat(n))))})},N=l("div",{paddingBottom:"20px",margin:"20px 0",borderBottom:"1px dotted $colors$lowContrast"}),T=l("button",{display:"block",width:"100%",height:"70px",margin:"10px 0",fontSize:"24px",textAlign:"center",color:"$highContrast",border:"1px solid $colors$highContrast","&:hover, &:active":{color:"$green",borderColor:"$green"},"&:focus":{outline:"2px solid $colors$green",outlineOffset:"2px"}}),P=l("div",{margin:"10px 0"}),E=l("a",{fontSize:"24px","&:hover, &:active":{color:"$green",borderColor:"$green"},"&:focus":{outline:"2px solid $colors$green",outlineOffset:"2px"}}),F=(l("div",{margin:"10px 0",height:"100px",padding:"0 5px",border:"1px solid $colors$highContrast",overflow:"scroll"}),l("div",{pointerEvents:"none"}),l("h3",{fontSize:"14px",margin:"12px 0 2px",color:"$lowContrast"})),L=l("input",{width:"100%",fontSize:"24px",border:"1px solid $colors$highContrast",padding:"2px 4px","&:hover, &:active":{color:"$green",borderColor:"$green"},"&:focus":{outline:"2px solid $colors$green",outlineOffset:"-1px"}}),M=l("input",{display:"block",width:"100%",height:"44px",margin:"10px 0",fontSize:"24px",textAlign:"center",color:"$highContrast",border:"1px solid $colors$highContrast","&:hover, &:active":{color:"$green",borderColor:"$green"},"&:focus":{outline:"2px solid $colors$green",outlineOffset:"2px"}}),D=()=>{const{touchActionNone:e,webkitTapHighlightColorTransparent:t,webkitTouchCalloutNone:o}=Object(n.useContext)(q),{eventLog:r,eventListeners:c}=f();return Object(g.jsxs)(N,{id:"button-demo",children:[Object(g.jsx)(T,{...c,style:{touchAction:e?"none":void 0,WebkitTapHighlightColor:t?"transparent":void 0,WebkitTouchCallout:o?"none":void 0},children:"Test Button"}),Object(g.jsx)($,{eventLog:r})]})},A=()=>{const{touchActionNone:e,webkitTapHighlightColorTransparent:t,webkitTouchCalloutNone:o,draggableFalse:r}=Object(n.useContext)(q),{eventLog:c,eventListeners:s}=f();return Object(g.jsxs)(N,{id:"link-demo",children:[Object(g.jsx)(P,{children:Object(g.jsx)(E,{...s,href:"#link-demo",draggable:!r&&void 0,style:{touchAction:e?"none":void 0,WebkitTapHighlightColor:t?"transparent":void 0,WebkitTouchCallout:o?"none":void 0},children:'Test link with href="#link-demo"'})}),Object(g.jsx)($,{eventLog:c})]})},H=()=>{const{touchActionNone:e,webkitTapHighlightColorTransparent:t,webkitTouchCalloutNone:o}=Object(n.useContext)(q),r=f(),c=f();return Object(g.jsxs)(N,{id:"form-demo",children:[Object(g.jsxs)("form",{onSubmit:e=>e.preventDefault(),children:[Object(g.jsx)(L,{...r.eventListeners,type:"text",placeholder:"Form demo",style:{touchAction:e?"none":void 0,WebkitTapHighlightColor:t?"transparent":void 0,WebkitTouchCallout:o?"none":void 0}}),Object(g.jsx)(M,{...c.eventListeners,type:"submit",value:"Submit",style:{touchAction:e?"none":void 0,WebkitTapHighlightColor:t?"transparent":void 0,WebkitTouchCallout:o?"none":void 0}})]}),Object(g.jsx)(F,{children:"Text input event log"}),Object(g.jsx)($,{eventLog:r.eventLog,height:"150px"}),Object(g.jsx)(F,{children:"Submit input event log"}),Object(g.jsx)($,{eventLog:c.eventLog,height:"150px"})]})},W=l("div",{maxWidth:"700px",padding:"14px 15px 25px",margin:"0 auto"}),B=l((({onClick:e,className:t})=>Object(g.jsx)(j,{className:t,onClick:e,children:Object(g.jsx)(i.a,{width:"30",height:"30"})})),{width:"30px",height:"30px"}),z=l("h1",{fontSize:"26px",display:"flex",justifyContent:"space-between",marginBottom:"2px"}),K=l("p",{padding:"10px 0",borderBottom:"1px dotted $colors$lowContrast"}),G=l("div",{borderBottom:"1px dotted $colors$lowContrast"}),U=l(j,{display:"block",margin:"10px 0",fontSize:"20px"}),X=l("div",{paddingBottom:"6px"}),Y=l("div",{margin:"14px 0 6px"}),J=l("div",{margin:"4px 0"}),R=l("label",{cursor:"pointer",WebkitTapHighlightColor:"transparent"}),_=l(m,{verticalAlign:"middle",marginRight:"4px"}),I=({label:e,checked:t,update:o})=>Object(g.jsx)(J,{children:Object(g.jsxs)(R,{children:[Object(g.jsx)(_,{checked:t,onChange:()=>o((e=>!e))}),e]})}),q=Object(n.createContext)({setMoveListeners:!1,preventDefaultOnAll:!1,touchActionNone:!1,webkitTapHighlightColorTransparent:!1,userSelectNone:!1,webkitTouchCalloutNone:!1,contextMenuPreventDefault:!1,draggableFalse:!1,showTimeSincePreviousEvent:!1,showEventCoordinates:!1,showPointerEvents:!1,showMouseEvents:!1,showTouchEvents:!1,showTimeSincePreviousPointerdown:!1,consoleLogEvents:!1}),Q=()=>{u();const e=Object(s.a)(void 0,{classNameDark:d}),[t,o]=Object(n.useState)(!1),[r,c]=Object(n.useState)(!0),[i,a]=Object(n.useState)(!1),[l,h]=Object(n.useState)(!1),[p,b]=Object(n.useState)(!0),[j,m]=Object(n.useState)(!1),[v,O]=Object(n.useState)(!1),[y,f]=Object(n.useState)(!1),[w,C]=Object(n.useState)(!1),[k,S]=Object(n.useState)(!1),[$,N]=Object(n.useState)(!1),[T,P]=Object(n.useState)(!1),[E,F]=Object(n.useState)(!0),[L,M]=Object(n.useState)(!0),[J,R]=Object(n.useState)(!0),[_,Q]=Object(n.useState)(!1),V=Object(n.useMemo)((()=>({setMoveListeners:r,preventDefaultOnAll:i,touchActionNone:l,webkitTapHighlightColorTransparent:p,userSelectNone:j,webkitTouchCalloutNone:y,contextMenuPreventDefault:v,draggableFalse:w,showTimeSincePreviousEvent:k,showEventCoordinates:T,showPointerEvents:E,showMouseEvents:L,showTouchEvents:J,showTimeSincePreviousPointerdown:$,consoleLogEvents:_})),[r,i,l,p,j,y,v,w,k,T,E,L,J,$,_]);return Object(n.useEffect)((()=>{document.body.style.userSelect=j?"none":"",document.body.style.webkitUserSelect=j?"none":""}),[j]),Object(g.jsxs)(W,{children:[Object(g.jsxs)(z,{className:void 0,children:[Object(g.jsx)("span",{children:"Event From Demo"}),Object(g.jsx)(B,{onClick:e.toggle})]}),Object(g.jsx)(x,{type:"lowContrast",href:"https://github.com/rafgraph/event-from",children:"https://github.com/rafgraph/event-from"}),Object(g.jsxs)(K,{children:["Some buttons, links, etc with event listeners and logs to demonstrate"," ",Object(g.jsx)("code",{children:"eventFrom"}),"."]}),Object(g.jsxs)(G,{children:[Object(g.jsxs)(U,{onClick:()=>o(!t),children:["Demo options - ","".concat(t?"hide":"show")]}),t&&Object(g.jsxs)(X,{children:[Object(g.jsx)(I,{label:Object(g.jsxs)(g.Fragment,{children:["Set ",Object(g.jsx)("code",{children:"move"})," event listeners in demo"]}),checked:r,update:c}),Object(g.jsx)(I,{label:Object(g.jsxs)(g.Fragment,{children:["Call ",Object(g.jsx)("code",{children:"preventDefault()"})," on all events in demo"]}),checked:i,update:a}),Object(g.jsx)(I,{label:Object(g.jsx)("code",{children:"touch-action: none"}),checked:l,update:h}),Object(g.jsx)(I,{label:Object(g.jsx)("code",{children:"-webkit-tap-highlight-color: transparent"}),checked:p,update:b}),Object(g.jsx)(Y,{children:"Options to enable long press on touch devices:"}),Object(g.jsx)(I,{label:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("code",{children:"user-select: none"}),", set on the"," ",Object(g.jsx)("code",{children:"<body>"}),", iOS on long press attempts to select nearby text even if the target element has set"," ",Object(g.jsx)("code",{children:"user-select: none"}),", so need to set it on the body and not the element."]}),checked:j,update:m}),Object(g.jsx)(I,{label:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("code",{children:"contextmenu"})," event ",Object(g.jsx)("code",{children:"preventDefault()"}),", to prevent the context menu from appearing on long press of links."]}),checked:v,update:O}),Object(g.jsx)(I,{label:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("code",{children:"-webkit-touch-callout: none"}),', to prevent the iOS "context menu" from appearing on long press of links because iOS doesn\'t support ',Object(g.jsx)("code",{children:"conextmenu"})," events."]}),checked:y,update:f}),Object(g.jsx)(I,{label:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("code",{children:'draggable="false"'}),", to prevent from dragging links on long press on iPadOS."]}),checked:w,update:C}),Object(g.jsx)(Y,{children:"Event log options:"}),Object(g.jsx)(I,{label:"show time (ms) since previous event",checked:k,update:S}),Object(g.jsx)(I,{label:Object(g.jsxs)(g.Fragment,{children:["show time (ms) since previous ",Object(g.jsx)("code",{children:"pointerdown"})," event"]}),checked:$,update:N}),Object(g.jsx)(I,{label:Object(g.jsxs)(g.Fragment,{children:["show event coordinates: ",Object(g.jsx)("code",{children:"clientX"}),","," ",Object(g.jsx)("code",{children:"clientY"})]}),checked:T,update:P}),Object(g.jsx)(I,{label:Object(g.jsxs)(g.Fragment,{children:["show ",Object(g.jsx)("code",{children:"pointer"})," events"]}),checked:E,update:F}),Object(g.jsx)(I,{label:Object(g.jsxs)(g.Fragment,{children:["show ",Object(g.jsx)("code",{children:"mouse"})," events"]}),checked:L,update:M}),Object(g.jsx)(I,{label:Object(g.jsxs)(g.Fragment,{children:["show ",Object(g.jsx)("code",{children:"touch"})," events"]}),checked:J,update:R}),Object(g.jsx)(I,{label:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("code",{children:"console.log"})," all events"]}),checked:_,update:Q})]})]}),Object(g.jsxs)(q.Provider,{value:V,children:[Object(g.jsx)(D,{}),Object(g.jsx)(A,{}),Object(g.jsx)(H,{})]})]})};c.a.render(Object(g.jsx)(n.StrictMode,{children:Object(g.jsx)(Q,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.8c9a4132.chunk.js.map